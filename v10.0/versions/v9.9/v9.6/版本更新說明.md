# 🔄 版本更新說明

## 解決快取問題的完整方案

### 問題原因
上架後一直顯示舊版本的主要原因是：
1. **瀏覽器快取** - 瀏覽器會快取CSS、JS檔案
2. **CDN快取** - 如果使用CDN，可能有快取延遲
3. **伺服器快取** - 伺服器端可能有快取設定
4. **版本控制缺失** - 沒有版本號碼區分新舊檔案

### 解決方案

#### 1. 檔案版本控制 ✅
- 在 `index.html` 中為CSS和JS添加版本參數
- 每次更新時修改版本號碼

#### 2. 強制更新腳本 ✅
- 添加了自動清除快取的JavaScript
- 檢測版本變化並強制重新載入

#### 3. 伺服器端快取控制 ✅
- 創建了 `.htaccess` 檔案
- 設定HTML、CSS、JS不快取
- 圖片檔案短期快取

#### 4. 版本檢查機制 ✅
- 在 `script.js` 中添加版本檢查
- 自動檢測新版本並更新

### 使用方法

#### 每次更新時：
1. 修改 `script.js` 中的 `VERSION` 常數
2. 修改 `index.html` 中的版本參數
3. 上傳所有檔案到伺服器

#### 強制更新（如果還是有問題）：
1. 按 `Ctrl + F5` 強制重新載入
2. 清除瀏覽器快取
3. 使用無痕模式測試

### 版本號碼格式
- 格式：`YYYYMMDD`（例如：20241220）
- 每次更新都要修改版本號碼

### 測試方法
1. 開啟開發者工具（F12）
2. 查看 Console 是否有版本更新訊息
3. 檢查 Network 標籤確認檔案是否重新載入

### 注意事項
- 確保 `.htaccess` 檔案已上傳到伺服器根目錄
- 如果使用GitHub Pages，可能需要等待幾分鐘才會生效
- 某些CDN服務可能需要手動清除快取
